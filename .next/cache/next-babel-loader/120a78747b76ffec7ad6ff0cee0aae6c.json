{"ast":null,"code":"// import { v4 as uuidv4 } from \"uuid\";\nimport shortid from \"shortid\";\nexport default [{\n  title: \"技术\",\n  key: shortid.generate()\n}, {\n  title: \"摸鱼\",\n  key: shortid.generate()\n}]; // 拖拽更新目录\n\nexport const handleformatData = (info, curMenu) => {\n  const dropKey = info.node.props.eventKey;\n  const dragKey = info.dragNode.props.eventKey;\n  const dropPos = info.node.props.pos.split(\"-\");\n  const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\n\n  const loop = (data, key, callback) => {\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].key === key) {\n        return callback(data[i], i, data);\n      }\n\n      if (data[i].children) {\n        loop(data[i].children, key, callback);\n      }\n    }\n  };\n\n  const data = [...curMenu]; // Find dragObject\n\n  let dragObj;\n  loop(data, dragKey, (item, index, arr) => {\n    arr.splice(index, 1);\n    dragObj = item;\n  });\n\n  if (!info.dropToGap) {\n    // Drop on the content\n    loop(data, dropKey, item => {\n      item.children = item.children || []; // where to insert 示例添加到尾部，可以是随意位置\n\n      item.children.push(dragObj);\n    });\n  } else if ((info.node.props.children || []).length > 0 && // Has children\n  info.node.props.expanded && // Is expanded\n  dropPosition === 1 // On the bottom gap\n  ) {\n      loop(data, dropKey, item => {\n        item.children = item.children || []; // where to insert 示例添加到头部，可以是随意位置\n\n        item.children.unshift(dragObj);\n      });\n    } else {\n    let ar;\n    let i;\n    loop(data, dropKey, (item, index, arr) => {\n      ar = arr;\n      i = index;\n    });\n\n    if (dropPosition === -1) {\n      ar.splice(i, 0, dragObj);\n    } else {\n      ar.splice(i + 1, 0, dragObj);\n    }\n  }\n\n  return data;\n};","map":null,"metadata":{},"sourceType":"module"}