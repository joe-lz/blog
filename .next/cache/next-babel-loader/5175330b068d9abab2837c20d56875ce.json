{"ast":null,"code":"import AV from \"leancloud-storage\";\nexport const createAssets = params => {\n  return new Promise((resolve, reject) => {\n    const file = new AV.File(\"avatar.jpg\", params.e); // file.set('status', 1)\n    // file.set('user', AV.User.current())\n\n    file.save().then(async file => {\n      console.log(`文件保存完成。objectId：${file.id}`);\n      resolve(file);\n    }, error => {\n      // 保存失败，可能是文件无法被读取，或者上传过程中出现问题\n      reject(error);\n    });\n  });\n};\nexport const getAssetsList = (params = {}) => {\n  return new Promise((resolve, reject) => {\n    const query = new AV.Query(\"_File\");\n    query.descending('createdAt');\n    query.limit(50);\n    Object.keys(params).map(keyname => {\n      query.equalTo(keyname, params[keyname]);\n    });\n    query.equalTo('metaData.owner', AV.User.current().id);\n    query.find().then(res => {\n      resolve(res);\n    }).catch(err => {\n      reject(err);\n    });\n  });\n};","map":null,"metadata":{},"sourceType":"module"}