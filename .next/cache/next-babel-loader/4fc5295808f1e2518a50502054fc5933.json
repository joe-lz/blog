{"ast":null,"code":"import AV from \"leancloud-storage\";\nimport defaultMenu, { handleformatData } from \"src/lib/defaultMenu\";\nexport var createMenus = function createMenus() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return new Promise(function (resolve, reject) {\n    // 创建默认菜单\n    var menusObject = new AV.Object(\"CMS_Menus\");\n    menusObject.set(\"value\", defaultMenu); // 将对象保存到云端\n\n    menusObject.save().then(function (todo) {\n      resolve(todo);\n    }, function (error) {\n      reject(err);\n    });\n  });\n};\nexport var getMenusList = function getMenusList() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return new Promise(function (resolve, reject) {\n    var query = new AV.Query(\"CMS_Menus\");\n    query.descending('createdAt');\n    query.first().then(function (res) {\n      resolve(res);\n    })[\"catch\"](function (err) {\n      reject(err);\n    });\n  });\n};\nexport var updateMenus = function updateMenus(_ref) {\n  var menuItem = _ref.menuItem,\n      params = _ref.params;\n  return new Promise(function (resolve, reject) {\n    Object.keys(params).map(function (keyname) {\n      menuItem.set(keyname, params[keyname]);\n    });\n    menuItem.save().then(function (res) {\n      resolve(res);\n    }, function (error) {\n      // 异常处理\n      reject(error);\n    });\n  });\n};","map":null,"metadata":{},"sourceType":"module"}