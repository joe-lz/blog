{"ast":null,"code":"var __jsx = React.createElement;\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport Particles from 'react-particles-js';\nimport React, { useState } from 'react';\nimport ReactCardFlip from 'react-card-flip';\nimport AV from 'leancloud-storage';\nimport { Spin, Alert, notification } from 'antd';\nimport styles from './index.module.scss';\nimport particlesParams from './particlesParams';\nimport leanerrors from 'src/lib/leancloud_error_code.json';\n\nfunction Components(props) {\n  var _useState = useState(false),\n      isFlipped = _useState[0],\n      setisFlipped = _useState[1];\n\n  var _useState2 = useState(false),\n      isSpin = _useState2[0],\n      setisSpin = _useState2[1];\n\n  var _useState3 = useState(''),\n      username = _useState3[0],\n      setusername = _useState3[1];\n\n  var _useState4 = useState(''),\n      password = _useState4[0],\n      setpassword = _useState4[1];\n\n  var _useState5 = useState(''),\n      repassword = _useState5[0],\n      setrepassword = _useState5[1];\n\n  var handleLogin = function handleLogin() {\n    if (username && password) {\n      setisSpin(true);\n      AV.User.logIn(username, password).then(function (user) {\n        // 登录成功\n        setisSpin(false);\n        notification.success({\n          message: '登录成功' // description: \"请输入用户名、密码\",\n\n        });\n        setTimeout(function () {\n          window.location.reload();\n        }, 1000);\n      }, function (error) {\n        // 登录失败（可能是密码错误）\n        setisSpin(false);\n        notification.error({\n          message: '登录失败',\n          description: leanerrors[error.code] ? leanerrors[error.code].msg : ''\n        });\n      });\n    } else {\n      notification.error({\n        message: '登录失败',\n        description: '请输入用户名、密码'\n      });\n    }\n  };\n\n  var handleRegister = function handleRegister() {\n    if (!username || !password) {\n      notification.error({\n        message: '注册失败',\n        description: '请输入用户名、密码'\n      });\n      return;\n    }\n\n    if (repassword !== password) {\n      notification.error({\n        message: '注册失败',\n        description: '请输入用户名、密码'\n      });\n      return;\n    }\n\n    setisSpin(true);\n    var user = new AV.User();\n    user.setUsername(username);\n    user.setPassword(password);\n    user.signUp().then(function (user) {\n      // 注册成功\n      setisSpin(false);\n      notification.success({\n        message: '注册成功' // description: \"请输入用户名、密码\",\n\n      });\n      setTimeout(function () {\n        window.location.reload();\n      }, 1000);\n    }, function (error) {\n      // 注册失败（通常是因为用户名已被使用）\n      setisSpin(false);\n      notification.error({\n        message: '注册失败',\n        description: leanerrors[error.code] ? leanerrors[error.code].msg : ''\n      });\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: styles.banner\n  }, __jsx(\"div\", {\n    className: styles.banner_content\n  }, __jsx(\"img\", {\n    className: styles.logobg,\n    src: \"https://qiniu.jingdian.club/FtFSZANFUxt2J5ER9ESY4llFWlNb\" // src={props.profile.attributes.logo}\n\n  }), particlesParams && __jsx(Particles, {\n    className: styles.tsparticles,\n    params: particlesParams.nasa\n  }), __jsx(\"div\", {\n    className: styles.banner_body\n  }, __jsx(Spin, {\n    spinning: isSpin,\n    tip: \"\\u52A0\\u8F7D\\u4E2D...\"\n  }, __jsx(ReactCardFlip, {\n    isFlipped: isFlipped,\n    flipDirection: \"horizontal\"\n  }, __jsx(\"div\", {\n    className: styles.banner_body_content\n  }, __jsx(\"p\", {\n    className: styles.banner_body_title\n  }, \"\\u767B\\u5F55\"), __jsx(\"div\", {\n    className: styles.banner_body_input\n  }, __jsx(\"input\", {\n    placeholder: \"\\u7528\\u6237\\u540D\",\n    onChange: function onChange(e) {\n      setusername(e.target.value);\n    }\n  })), __jsx(\"div\", {\n    className: styles.banner_body_input\n  }, __jsx(\"input\", {\n    placeholder: \"\\u5BC6\\u7801\",\n    type: \"password\",\n    onChange: function onChange(e) {\n      setpassword(e.target.value);\n    }\n  })), __jsx(\"div\", {\n    className: styles.banner_body_input\n  }, __jsx(\"button\", {\n    onClick: function onClick() {\n      handleLogin();\n    }\n  }, \"\\u786E\\u5B9A\")), __jsx(\"div\", {\n    className: styles.banner_body_input\n  }, __jsx(\"button\", {\n    className: styles.banner_body_btn_primary,\n    onClick: function onClick() {\n      setisFlipped(true);\n    }\n  }, \"\\u8FD8\\u6CA1\\u6709\\u8D26\\u6237\\uFF1F\", __jsx(\"a\", null, \"\\u7ACB\\u5373\\u6CE8\\u518C\")))), __jsx(\"div\", {\n    className: styles.banner_body_content\n  }, __jsx(\"p\", {\n    className: styles.banner_body_title\n  }, \"\\u6CE8\\u518C\"), __jsx(\"div\", {\n    className: styles.banner_body_input\n  }, __jsx(\"input\", {\n    placeholder: \"\\u7528\\u6237\\u540D\",\n    onChange: function onChange(e) {\n      setusername(e.target.value);\n    }\n  })), __jsx(\"div\", {\n    className: styles.banner_body_input\n  }, __jsx(\"input\", {\n    placeholder: \"\\u5BC6\\u7801\",\n    type: \"password\",\n    onChange: function onChange(e) {\n      setpassword(e.target.value);\n    }\n  })), __jsx(\"div\", {\n    className: styles.banner_body_input\n  }, __jsx(\"input\", {\n    placeholder: \"\\u518D\\u6B21\\u8F93\\u5165\\u5BC6\\u7801\",\n    type: \"password\",\n    onChange: function onChange(e) {\n      setrepassword(e.target.value);\n    }\n  })), __jsx(\"div\", {\n    className: styles.banner_body_input\n  }, __jsx(\"button\", {\n    onClick: function onClick() {\n      handleRegister();\n    }\n  }, \"\\u786E\\u5B9A\")), __jsx(\"div\", {\n    className: styles.banner_body_input\n  }, __jsx(\"button\", {\n    className: styles.banner_body_btn_primary,\n    onClick: function onClick() {\n      setisFlipped(false);\n    }\n  }, \"\\u5DF2\\u6709\\u8D26\\u6237\\uFF1F\", __jsx(\"a\", null, \"\\u7ACB\\u5373\\u767B\\u5F55\")))))))));\n}\n\nexport default Components;","map":null,"metadata":{},"sourceType":"module"}